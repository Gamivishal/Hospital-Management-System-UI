import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs';

@Injectable({
  providedIn: 'root',
})
export class BaseService {
  constructor(private http: HttpClient) {}
  
  private getAuthHeaders(): HttpHeaders {
    debugger;
    //console.log(localStorage.getItem('token'));
    const token = true//sessionStorage.getItem('token'); // Retrieve token from localStorage or another source
    return new HttpHeaders({
      Authorization: token ? `bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFtOW9ibVJ2WlVCbmJXRnBiQzVqYjIwPSIsInN1YiI6IkpvaG4gRG9lIiwiVXNlcklkIjoiTVE9PSIsIlJvbGVpZCI6Ik1RPT0iLCJQZXJtaXNzaW9uIjoiW3tcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MSxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjoxLFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MixcIlJvbGVJRFwiOjEsXCJNZW51SURcIjoyLFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MyxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjozLFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6NCxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjo0LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6NixcIlJvbGVJRFwiOjEsXCJNZW51SURcIjo2LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6NyxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjo3LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6OCxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjo4LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6OSxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjo5LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MTAsXCJSb2xlSURcIjoxLFwiTWVudUlEXCI6MTAsXCJJc0VkaXRcIjp0cnVlLFwiSXNBZGRcIjp0cnVlLFwiSXNEZWxldGVcIjp0cnVlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjoxMSxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjoxMSxcIklzRWRpdFwiOnRydWUsXCJJc0FkZFwiOnRydWUsXCJJc0RlbGV0ZVwiOnRydWUsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjEyLFwiUm9sZUlEXCI6MSxcIk1lbnVJRFwiOjEyLFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MTMsXCJSb2xlSURcIjoxLFwiTWVudUlEXCI6MTMsXCJJc0VkaXRcIjp0cnVlLFwiSXNBZGRcIjp0cnVlLFwiSXNEZWxldGVcIjp0cnVlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjoxNCxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjoxNCxcIklzRWRpdFwiOnRydWUsXCJJc0FkZFwiOnRydWUsXCJJc0RlbGV0ZVwiOnRydWUsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjE1LFwiUm9sZUlEXCI6MSxcIk1lbnVJRFwiOjE1LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MTYsXCJSb2xlSURcIjoxLFwiTWVudUlEXCI6MTYsXCJJc0VkaXRcIjp0cnVlLFwiSXNBZGRcIjp0cnVlLFwiSXNEZWxldGVcIjp0cnVlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjoxNyxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjoxNyxcIklzRWRpdFwiOnRydWUsXCJJc0FkZFwiOnRydWUsXCJJc0RlbGV0ZVwiOnRydWUsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjE4LFwiUm9sZUlEXCI6MSxcIk1lbnVJRFwiOjE4LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MTksXCJSb2xlSURcIjoxLFwiTWVudUlEXCI6MTksXCJJc0VkaXRcIjp0cnVlLFwiSXNBZGRcIjp0cnVlLFwiSXNEZWxldGVcIjp0cnVlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjoyMCxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjoyMCxcIklzRWRpdFwiOnRydWUsXCJJc0FkZFwiOnRydWUsXCJJc0RlbGV0ZVwiOnRydWUsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjIxLFwiUm9sZUlEXCI6MSxcIk1lbnVJRFwiOjIxLFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MjIsXCJSb2xlSURcIjoxLFwiTWVudUlEXCI6MjIsXCJJc0VkaXRcIjp0cnVlLFwiSXNBZGRcIjp0cnVlLFwiSXNEZWxldGVcIjp0cnVlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjoyMyxcIlJvbGVJRFwiOjEsXCJNZW51SURcIjoyMyxcIklzRWRpdFwiOnRydWUsXCJJc0FkZFwiOnRydWUsXCJJc0RlbGV0ZVwiOnRydWUsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjI0LFwiUm9sZUlEXCI6MSxcIk1lbnVJRFwiOjI0LFwiSXNFZGl0XCI6dHJ1ZSxcIklzQWRkXCI6dHJ1ZSxcIklzRGVsZXRlXCI6dHJ1ZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MjUsXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6MSxcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjI2LFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjIsXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjoyNyxcIlJvbGVJRFwiOjIsXCJNZW51SURcIjozLFwiSXNFZGl0XCI6ZmFsc2UsXCJJc0FkZFwiOmZhbHNlLFwiSXNEZWxldGVcIjpmYWxzZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MjgsXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6NCxcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjMwLFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjYsXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjozMSxcIlJvbGVJRFwiOjIsXCJNZW51SURcIjo3LFwiSXNFZGl0XCI6ZmFsc2UsXCJJc0FkZFwiOmZhbHNlLFwiSXNEZWxldGVcIjpmYWxzZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MzIsXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6OCxcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjMzLFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjksXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjozNCxcIlJvbGVJRFwiOjIsXCJNZW51SURcIjoxMCxcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjM1LFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjExLFwiSXNFZGl0XCI6ZmFsc2UsXCJJc0FkZFwiOmZhbHNlLFwiSXNEZWxldGVcIjpmYWxzZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MzYsXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6MTIsXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjozNyxcIlJvbGVJRFwiOjIsXCJNZW51SURcIjoxMyxcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjM4LFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjE0LFwiSXNFZGl0XCI6ZmFsc2UsXCJJc0FkZFwiOmZhbHNlLFwiSXNEZWxldGVcIjpmYWxzZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6MzksXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6MTUsXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjo0MCxcIlJvbGVJRFwiOjIsXCJNZW51SURcIjoxNixcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjQxLFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjE3LFwiSXNFZGl0XCI6ZmFsc2UsXCJJc0FkZFwiOmZhbHNlLFwiSXNEZWxldGVcIjpmYWxzZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6NDIsXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6MTgsXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjo0MyxcIlJvbGVJRFwiOjIsXCJNZW51SURcIjoxOSxcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjQ0LFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjIwLFwiSXNFZGl0XCI6ZmFsc2UsXCJJc0FkZFwiOmZhbHNlLFwiSXNEZWxldGVcIjpmYWxzZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6NDUsXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6MjEsXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX0se1wiTWVudVJvbGVNYXBwaW5nSURcIjo0NixcIlJvbGVJRFwiOjIsXCJNZW51SURcIjoyMixcIklzRWRpdFwiOmZhbHNlLFwiSXNBZGRcIjpmYWxzZSxcIklzRGVsZXRlXCI6ZmFsc2UsXCJJc1ZpZXdcIjp0cnVlfSx7XCJNZW51Um9sZU1hcHBpbmdJRFwiOjQ3LFwiUm9sZUlEXCI6MixcIk1lbnVJRFwiOjIzLFwiSXNFZGl0XCI6ZmFsc2UsXCJJc0FkZFwiOmZhbHNlLFwiSXNEZWxldGVcIjpmYWxzZSxcIklzVmlld1wiOnRydWV9LHtcIk1lbnVSb2xlTWFwcGluZ0lEXCI6NDgsXCJSb2xlSURcIjoyLFwiTWVudUlEXCI6MjQsXCJJc0VkaXRcIjpmYWxzZSxcIklzQWRkXCI6ZmFsc2UsXCJJc0RlbGV0ZVwiOmZhbHNlLFwiSXNWaWV3XCI6dHJ1ZX1dIiwiZXhwIjoxNzQzNTI0NzExLCJpc3MiOiJzdGF2YW4iLCJhdWQiOiJzdGF2YW4xIn0.cNdjGLEV9jpm11ZqtubTJm45wX6oVRtM65igCSg-8go` : '',
     // 'Content-Type': 'application/json',
    });
  }

  POST<T>(url: string, body: any): Observable<T> {
    return this.http.post<T>(url, body, {headers : this.getAuthHeaders()});
  }

  GET<T>(url: string): Observable<T> {
    return this.http.get<T>(url,{headers : this.getAuthHeaders()});
  }

  PUT<T>(url: string, body: any): Observable<T> {
    return this.http.put<T>(url, body,{headers : this.getAuthHeaders()});
  }

  DELETE<T>(url: string): Observable<T> {
    return this.http.delete<T>(url,{headers : this.getAuthHeaders()});
  }
}
